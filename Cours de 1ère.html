<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cours de 1ère</title>
    <style>
        /* CSS PARTAGÉ (Utilisez vos styles originaux pour le bandeau, le menu et le corps) */
        body { margin: 0; padding-top: 60px; font-family: Arial, sans-serif; background-color: #f4f4f4; }
        footer { text-align: center; padding: 10px 0; background: #333; color: #fff; position: relative; bottom: 0; width: 100%; }
        
        /* Menu */
        .bandeau { background-color: #333; padding: 10px; display: flex; justify-content: space-between; align-items: center; position: fixed; top: 0; left: 0; width: 100%; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2); z-index: 1000; background-image: url('https://png.pngtree.com/thumb_back/fw800/background/20190813/pngtree-digital-technology-blue-background-banner-image_298195.jpg'); background-size: cover; background-position: center; }
        .menu-btn { font-size: 26px; cursor: pointer; color: white; background: none; border: none; display: none; }
        .menu-links { display: flex; gap: 15px; }
        .menu-links a { color: rgb(0, 0, 0); text-decoration: none; font-size: 18px; font-weight: bold; transition: color 0.3s ease; display: none; }
        .menu-links a:hover { color: yellow; }

        /* Mobile */
        @media (max-width: 768px) {
            .menu-btn { display: block; }
            .menu-links { display: none; flex-direction: column; position: absolute; top: 60px; left: 0; width: 100%; background: rgba(0, 0, 0, 0.9); text-align: center; }
            .menu-links.active { display: flex; }
            .menu-links a { color: white; padding: 15px 0; border-bottom: 1px solid #444; display: block !important; }
        }

        /* Contenu spécifique */
        .main-content { padding: 80px 20px 20px; text-align: center; }
        .course-unit-list { display: flex; justify-content: center; flex-wrap: wrap; gap: 40px; margin-top: 40px; }
    </style>
</head>
<body>

    <div class="bandeau">
        <div style="font-size: 24px; font-weight: bold; color: yellow;">My Project</div>
        <button class="menu-btn" onclick="toggleMenu()">&#9776;</button>
        <nav class="menu-links" id="menuLinks">
            <a href="Accueil.html">Accueil</a>
            <a href="Physique Chimie.html">Cours de Physique-Chimie (Général)</a>
            
            <a href="Cours de 2nd.html" data-class="Seconde">Cours Seconde</a>
            <a href="Cours de 1ère.html" data-class="Première">Cours Première</a>
            <a href="Cours de Terminal.html" data-class="Terminale">Cours Terminale</a>

            <a href="Quiz de connaissance de 2nd.html" data-class="Seconde">Quiz Seconde</a>
            <a href="Quiz de révision de 1ère.html" data-class="Première">Quiz Première</a>
            <a href="Quiz de connaissance de Terminal.html" data-class="Terminale">Quiz Terminale</a>

            <a href="Connexion étudiant.html" id="authLink">Connexion Étudiant</a>
        </nav>
    </div>

    <div class="main-content">
        <h1>Cours de [Nom de la Classe]</h1>
        
        <section id="cours-liste">
            <div class="course-unit-list">
                <ul style="list-style:none; padding:40px; background-color: #007bff; color:#fff; border-radius:30px; width: 300px;">
                    <h2 style="color:#fff">Chapitres du Cours</h2>
                    <li><a href="URL_CHAPITRE_1" style="color:#ffffff; text-decoration:none;"><b>Chapitre 1</b></a></li>
                    <li><a href="URL_CHAPITRE_2" style="color:#ffffff; text-decoration:none;"><b>Chapitre 2</b></a></li>
                    </ul>

                <ul style="list-style:none; padding:40px; background-color: #28a745; color:#fff; border-radius:30px; width: 300px;">
                    <h2 style="color:#fff">Exercices</h2>
                    <li><a href="URL_EXO_1" style="color:#ffffff; text-decoration:none;"><b>Exercice 1</b></a></li>
                    <li><a href="URL_EXO_2" style="color:#ffffff; text-decoration:none;"><b>Exercice 2</b></a></li>
                    </ul>
            </div>
        </section>

    </div>

    <footer>
        &copy; 2024 My Project. Tous droits réservés.
    </footer>

    <script>
        const LOGIN_PAGE = "Connexion étudiant.html";
        const classOrder = {
            "Seconde": 1, "Première": 2, "Terminale": 3
        };

        function logout() {
            if (confirm("Voulez-vous vous déconnecter ?")) {
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('currentUser');
                localStorage.removeItem('studentClass');
                window.location.replace(LOGIN_PAGE);
            }
        }

        function applyAccessControl() {
            const authLink = document.getElementById('authLink');
            const menuLinksContainer = document.getElementById('menuLinks');
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            const studentClass = localStorage.getItem('studentClass');

            // 1. GESTION DU LIEN D'AUTHENTIFICATION
            if (isLoggedIn && studentClass) {
                authLink.textContent = `Déconnexion (${studentClass})`;
                authLink.href = "#";
                authLink.onclick = logout;
            } else {
                 authLink.textContent = "Connexion Étudiant";
                 authLink.href = LOGIN_PAGE;
                 authLink.onclick = null;
            }
            
            // 2. REDIRECTION SÉCURITÉ
            if (!isLoggedIn) {
                 alert("Accès refusé. Veuillez vous connecter.");
                 window.location.replace(LOGIN_PAGE);
                 return;
            }
            
            // 3. FILTRAGE DES LIENS
            const studentLevel = classOrder[studentClass] || 0;
            const links = menuLinksContainer.querySelectorAll('a');
            
            links.forEach(link => {
                const requiredClass = link.getAttribute('data-class');
                const isRestricted = requiredClass !== null;

                if (!isRestricted) {
                    // Toujours afficher les liens système (Accueil, Général, Auth)
                    link.style.display = 'inline-block';
                } else {
                    const requiredLevel = classOrder[requiredClass];
                    if (requiredLevel <= studentLevel) {
                        link.style.display = 'inline-block'; 
                    } else {
                        link.style.display = 'none'; 
                    }
                }
            });
        }

        document.addEventListener('DOMContentLoaded', applyAccessControl);

        function toggleMenu() {
            document.getElementById("menuLinks").classList.toggle("active");
        }
    </script>
</body>
</html>
